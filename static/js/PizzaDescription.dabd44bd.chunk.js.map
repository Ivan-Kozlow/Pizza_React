{"version":3,"file":"static/js/PizzaDescription.dabd44bd.chunk.js","mappings":"iLACA,EAAmC,2CAAnC,EAA6F,uCAA7F,EAAyJ,6CAAzJ,EAAoN,sCAApN,EAAyQ,uC,yFCiHzQ,EArGmC,WAClC,IAAMA,GAAWC,EAAAA,EAAAA,MACTC,GAAOC,EAAAA,EAAAA,MAAPD,GACR,EAA0BE,EAAAA,WAAqC,eAAxDC,EAAK,KAAEC,EAAQ,KACtB,EAAoCF,EAAAA,SAAuB,GAAE,eAAtDG,EAAU,KAAEC,EAAa,KAChC,EAAoCJ,EAAAA,SAAuB,GAAE,eAAtDK,EAAU,KAAEC,EAAa,KAE1BC,GAAeC,EAAAA,EAAAA,KAAY,SAACC,GAAgB,OAAKA,EAAMC,KAAKC,QAAQ,IAE1EX,EAAAA,WAAgB,WACU,aAQxB,OARwB,0BAAzB,oHAEyBY,EAAAA,EAAAA,IAAU,qDAAD,OAAsDd,IAAK,gBAAnFe,EAAI,EAAJA,KACRX,EAASW,GAAK,gDAEdC,MAAM,wIACNlB,EAAS,KAAI,0DAEd,uBATqB,WACG,wBASzBmB,EACD,GAAG,CAACjB,EAAIF,IAER,IAAMoB,EACLT,EAAaA,EAAaU,OAAS,IAAMV,EAAaW,MAAK,SAACC,GAAG,OAAKA,EAAIrB,KAAOA,CAAE,IAAI,EAAI,EAE1F,OAAKG,GAKJ,iBAAKmB,UAAWC,EAAqB,WACpC,iBAAKD,UAAWC,EAAiB,WAChC,gBAAKD,UAAU,qBAAoB,UAClC,gBACCA,UAAU,qBACVE,MAAM,MACNC,OAAO,MACPC,IAAKvB,EAAMwB,SACXC,IAAI,aAGN,eAAIN,UAAU,qBAAoB,SAAEnB,EAAM0B,SAC1C,iBAAKP,UAAU,wBAAuB,WACrC,wBACEnB,EAAM2B,MAAMC,KAAI,SAACC,EAAQC,GACzB,OACC,eAECC,QAAS,kBAAM5B,EAAc0B,EAAO,EACpCV,UAAWjB,IAAe4B,EAAI,SAAW,GAAG,SAE3CE,EAAAA,EAAUH,IAJNC,EAOR,OAED,wBACE9B,EAAMiC,MAAML,KAAI,SAACM,EAAMJ,GACvB,OACC,gBAECC,QAAS,kBAAM1B,EAAcyB,EAAE,EAC/BX,UAAWf,IAAe0B,EAAI,SAAW,GAAG,UAE3CI,EAAK,mBAJDJ,EAOR,UAGF,iBAAKX,UAAU,sBAAqB,WACnC,iBAAKA,UAAU,qBAAoB,UAAC,gBAAInB,EAAMmC,MAAM,aACpC,IAAfpB,GACA,SAACqB,EAAA,EAAW,CACXvC,GAAIA,EACJ2B,SAAUxB,EAAMwB,SAChBE,MAAO1B,EAAM0B,MACbS,MAAOnC,EAAMmC,MACbF,MAAOjC,EAAMiC,MACbN,MAAO3B,EAAM2B,MACbzB,WAAYA,EACZE,WAAYA,KAGb,SAACiC,EAAA,EAAS,WAIb,iBAAKlB,UAAWC,EAAuB,WACtC,wBAAI,sDACJ,cAAGD,UAAWC,EAAgB,SAAEpB,EAAMsC,eACtC,SAAC,KAAI,CAACC,GAAI,IAAI,UACb,mBAAQpB,UAAS,UAAKC,EAAgB,2BAA0B,UAC/D,0BAAM,8CAnEH,8BAAE,uDAyEX,C","sources":["webpack://hooks/./src/components/PizzaDescription/PizzaDescription.module.scss?d60f","components/PizzaDescription/PizzaDescription.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"pizza__container\":\"PizzaDescription_pizza__container__DjqfW\",\"pizza__block\":\"PizzaDescription_pizza__block__UCHpC\",\"pizza__description\":\"PizzaDescription_pizza__description__WgFI+\",\"description\":\"PizzaDescription_description__87-C1\",\"button__back\":\"PizzaDescription_button__back__K53z0\"};","import cls from './PizzaDescription.module.scss'\r\nimport { Link, useNavigate, useParams } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\nimport React from 'react'\r\n\r\nimport { RootState } from '../../redux/store'\r\nimport { TypePizzaFromServer } from '../../redux/cart/types'\r\n\r\nimport axios from 'axios'\r\nimport { typeNames } from '../PizzaItem/PizzaItem'\r\nimport BtnAddPizza from '../PizzaItem/Btn`s/BtnAddPizza'\r\nimport BtnToCart from '../PizzaItem/Btn`s/BtnToCart'\r\n\r\nconst PizzaDescription: React.FC = () => {\r\n\tconst navigate = useNavigate()\r\n\tconst { id } = useParams()\r\n\tconst [pizza, setPizza] = React.useState<TypePizzaFromServer>()\r\n\tconst [activeType, setActiveType] = React.useState<number>(0)\r\n\tconst [activeSize, setActiveSize] = React.useState<number>(0)\r\n\r\n\tconst currentPizza = useSelector((state: RootState) => state.cart.products)\r\n\r\n\tReact.useEffect(() => {\r\n\t\tasync function fetchPizza() {\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await axios.get(`https://640442c480d9c5c7bac4139d.mockapi.io/items/${id}`)\r\n\t\t\t\tsetPizza(data)\r\n\t\t\t} catch (error) {\r\n\t\t\t\talert('Ошибка в получении пиццы :(')\r\n\t\t\t\tnavigate('/')\r\n\t\t\t}\r\n\t\t}\r\n\t\tfetchPizza()\r\n\t}, [id, navigate])\r\n\r\n\tconst addedCount =\r\n\t\tcurrentPizza[currentPizza.length - 1] && currentPizza.find((obj) => obj.id === id) ? 1 : 0\r\n\r\n\tif (!pizza) {\r\n\t\treturn <>Загрузка...</>\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={cls.pizza__container}>\r\n\t\t\t<div className={cls.pizza__block}>\r\n\t\t\t\t<div className='pizza-block__image'>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName='pizza-block__image'\r\n\t\t\t\t\t\twidth='260'\r\n\t\t\t\t\t\theight='260'\r\n\t\t\t\t\t\tsrc={pizza.imageUrl}\r\n\t\t\t\t\t\talt='Pizza'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h2 className='pizza-block__title'>{pizza.title}</h2>\r\n\t\t\t\t<div className='pizza-block__selector'>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t{pizza.types.map((typeId, i) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\tonClick={() => setActiveType(typeId)}\r\n\t\t\t\t\t\t\t\t\tclassName={activeType === i ? 'active' : ''}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{typeNames[typeId]}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t{pizza.sizes.map((size, i) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\tonClick={() => setActiveSize(i)}\r\n\t\t\t\t\t\t\t\t\tclassName={activeSize === i ? 'active' : ''}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{size} см.\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='pizza-block__bottom'>\r\n\t\t\t\t\t<div className='pizza-block__price'>от {pizza.price} ₽</div>\r\n\t\t\t\t\t{addedCount === 0 ? (\r\n\t\t\t\t\t\t<BtnAddPizza\r\n\t\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\t\timageUrl={pizza.imageUrl}\r\n\t\t\t\t\t\t\ttitle={pizza.title}\r\n\t\t\t\t\t\t\tprice={pizza.price}\r\n\t\t\t\t\t\t\tsizes={pizza.sizes}\r\n\t\t\t\t\t\t\ttypes={pizza.types}\r\n\t\t\t\t\t\t\tactiveType={activeType}\r\n\t\t\t\t\t\t\tactiveSize={activeSize}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<BtnToCart />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={cls.pizza__description}>\r\n\t\t\t\t<h2>Описание</h2>\r\n\t\t\t\t<i className={cls.description}>{pizza.description}</i>\r\n\t\t\t\t<Link to={'/'}>\r\n\t\t\t\t\t<button className={`${cls.button__back} button button--outline`}>\r\n\t\t\t\t\t\t<span>Назад</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default PizzaDescription\r\n"],"names":["navigate","useNavigate","id","useParams","React","pizza","setPizza","activeType","setActiveType","activeSize","setActiveSize","currentPizza","useSelector","state","cart","products","axios","data","alert","fetchPizza","addedCount","length","find","obj","className","cls","width","height","src","imageUrl","alt","title","types","map","typeId","i","onClick","typeNames","sizes","size","price","BtnAddPizza","BtnToCart","description","to"],"sourceRoot":""}